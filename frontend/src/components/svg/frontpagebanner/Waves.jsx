import React from "react";
import { motion, useMotionValue, useCycle, useAnimation } from "framer-motion";
import { useEffect } from "react";

const Waves = () => {
  const position = useMotionValue(200);
  const animateWave = useAnimation();
  const [frame, moveFrame] = useCycle(
    0,
    0.1,
    0.2,
    0.3,
    0.4,
    0.5,
    0.6,
    0.7,
    0.8,
    0.7,
    0.6,
    0.5,
    0.4,
    0.3,
    0.2,
    0.1
  );

  useEffect(() => {
    animateWave.start({
      opacity: 1,
      transition: { opacity: { duration: 2 } },
    });
    const id = setInterval(() => {
      moveFrame();
    }, 50);

    setTimeout(() => {
      clearInterval(id);
    }, 360000);

    return () => clearInterval(id);
  }, []);

  return (
    <div className='waves'>
      <motion.svg
        initial={{ opacity: 0.1 }}
        animate={animateWave}
        transition={{ duration: 2, delay: 1 }}
        xmlns='http://www.w3.org/2000/svg'
        viewBox={`${frame} 50  1040 300`}
        preserveAspectRatio='xMidYMid meet'>
        <defs>
          <clipPath id='shape'>
            <path
              className='waves__wave'
              d='M0,224L12,224C24,224,48,224,72,213.3C96,203,120,181,144,160C168,139,192,117,216,128C240,139,264,181,288,176C312,171,336,117,360,122.7C384,128,408,192,432,213.3C456,235,480,213,504,202.7C528,192,552,192,576,181.3C600,171,624,149,648,122.7C672,96,696,64,720,74.7C744,85,768,139,792,176C816,213,840,235,864,224C888,213,912,171,936,154.7C960,139,984,149,1008,154.7C1032,160,1056,160,1080,144C1104,128,1128,96,1152,117.3C1176,139,1200,213,1224,224C1248,235,1272,181,1296,154.7C1320,128,1344,128,1368,122.7C1392,117,1416,107,1428,101.3L1440,96L1440,320L1428,320C1416,320,1392,320,1368,320C1344,320,1320,320,1296,320C1272,320,1248,320,1224,320C1200,320,1176,320,1152,320C1128,320,1104,320,1080,320C1056,320,1032,320,1008,320C984,320,960,320,936,320C912,320,888,320,864,320C840,320,816,320,792,320C768,320,744,320,720,320C696,320,672,320,648,320C624,320,600,320,576,320C552,320,528,320,504,320C480,320,456,320,432,320C408,320,384,320,360,320C336,320,312,320,288,320C264,320,240,320,216,320C192,320,168,320,144,320C120,320,96,320,72,320C48,320,24,320,12,320L0,320Z'></path>
          </clipPath>
        </defs>
        <path
          className='waves__wave'
          d='M0,224L12,224C24,224,48,224,72,213.3C96,203,120,181,144,160C168,139,192,117,216,128C240,139,264,181,288,176C312,171,336,117,360,122.7C384,128,408,192,432,213.3C456,235,480,213,504,202.7C528,192,552,192,576,181.3C600,171,624,149,648,122.7C672,96,696,64,720,74.7C744,85,768,139,792,176C816,213,840,235,864,224C888,213,912,171,936,154.7C960,139,984,149,1008,154.7C1032,160,1056,160,1080,144C1104,128,1128,96,1152,117.3C1176,139,1200,213,1224,224C1248,235,1272,181,1296,154.7C1320,128,1344,128,1368,122.7C1392,117,1416,107,1428,101.3L1440,96L1440,320L1428,320C1416,320,1392,320,1368,320C1344,320,1320,320,1296,320C1272,320,1248,320,1224,320C1200,320,1176,320,1152,320C1128,320,1104,320,1080,320C1056,320,1032,320,1008,320C984,320,960,320,936,320C912,320,888,320,864,320C840,320,816,320,792,320C768,320,744,320,720,320C696,320,672,320,648,320C624,320,600,320,576,320C552,320,528,320,504,320C480,320,456,320,432,320C408,320,384,320,360,320C336,320,312,320,288,320C264,320,240,320,216,320C192,320,168,320,144,320C120,320,96,320,72,320C48,320,24,320,12,320L0,320Z'>
        </path>
                {/* <image
width='100%'
          clip-path='url(#shape)'
          href='https://s3-us-west-2.amazonaws.com/s.cdpn.io/222579/beagle400.jpg'></image> */}
      </motion.svg>

    </div>



  );
};

export default Waves;
