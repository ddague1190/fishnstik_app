(this.webpackJsonpfrontend=this.webpackJsonpfrontend||[]).push([[0],{128:function(e,t,r){},129:function(e,t,r){},136:function(e,t,r){"use strict";r.r(t);var a=r(1),n=r(27),c=r.n(n),s=r(8),i=r(54),d=r(91),o=r(90),l=r(2),j="PRODUCT_LIST_REQUEST",u="PRODUCT_LIST_SUCCESS",b="PRODUCT_LIST_FAIL",p="PRODUCT_DETAILS_REQUEST",h="PRODUCT_DETAILS_SUCCESS",O="PRODUCT_DETAILS_FAIL",x="PRODUCT_CREATE_REVIEW_REQUEST",m="PRODUCT_CREATE_REVIEW_SUCCESS",f="PRODUCT_CREATE_REVIEW_FAIL",v="PRODUCT_CREATE_REVIEW_RESET",g=r(19),y="CART_ADD_ITEM",S="CART_REMOVE_ITEM",I="CART_SAVE_SHIPPING_ADDRESS",E="CART_SAVE_PAYMENT_METHOD",C="CART_CLEAR_ITEMS",k="USER_LOGIN_REQUEST",w="USER_LOGIN_SUCCESS",_="USER_LOGIN_FAIL",R="USER_LOGOUT",A="USER_REGISTER_REQUEST",P="USER_REGISTER_SUCCESS",N="USER_REGISTER_FAIL",L="USER_DETAILS_REQUEST",T="USER_DETAILS_SUCCESS",D="USER_DETAILS_FAIL",U="USER_UPDATE_PROFILE_REQUEST",G="USER_UPDATE_PROFILE_SUCCESS",F="USER_UPDATE_PROFILE_RESET",q="USER_UPDATE_PROFILE_FAIL",M="USER_DETAILS_RESET",Q="USER_OTP_FAIL",Y="USER_OTP_REQUEST",$="USER_OTP_SUCCESS",B="GET_USER_ADDRESSES_REQUEST ",J="GET_USER_ADDRESSES_SUCCESS",V="GET_USER_ADDRESSES_FAIL",W=function(e){return JSON.parse(e).map((function(e){return e.fields}))},z="ORDER_CREATE_REQUEST",H="ORDER_CREATE_SUCCESS",K="ORDER_CREATE_FAIL",X="ORDER_CREATE_RESET",Z="ORDER_DETAILS_REQUEST",ee="ORDER_DETAILS_SUCCESS",te="ORDER_DETAILS_FAIL",re="ORDER_DETAILS_RESET",ae="ORDER_PAY_REQUEST",ne="ORDER_PAY_SUCCESS",ce="ORDER_PAY_FAIL",se="ORDER_PAY_RESET",ie="ORDER_LIST_MY_REQUEST",de="ORDER_LIST_MY_SUCCESS",oe="ORDER_LIST_MY_FAIL",le="ORDER_LIST_MY_RESET",je=r(7),ue=r.n(je),be=r(13),pe=r(28),he=r.n(pe),Oe=function(e,t,r){return function(){var a=Object(be.a)(ue.a.mark((function a(n,c){var s,i,d;return ue.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,he.a.get("/api/products/".concat(e));case 2:s=a.sent,i=s.data,d=i.variants.findIndex((function(e){return e._id===t})),n({type:y,payload:{productId:i._id,variantId:t,name:i.name,variantDescription:i.variants[d].description,image:i.variants[d].image,price:i.variants[d].price,countInStock:i.variants[d].countInStock,qty:r}}),localStorage.setItem("cartItems",JSON.stringify(c().cart.cartItems));case 7:case"end":return a.stop()}}),a)})));return function(e,t){return a.apply(this,arguments)}}()},xe=Object(i.combineReducers)({productList:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{products:[]},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case j:return{loading:!0,products:[]};case u:return{loading:!1,products:t.payload.products,page:t.payload.page,pages:t.payload.pages};case b:return{loading:!1,error:t.payload};default:return e}},productDetails:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{product:{reviews:[],variants:[]}},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case p:return Object(l.a)({loading:!0},e);case h:return{loading:!1,product:t.payload};case O:return{loading:!1,error:t.payload};default:return e}},productReviewCreate:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case x:return{loading:!0};case m:return{loading:!1,success:!0};case f:return{loading:!1,error:t.payload};case v:return{};default:return e}},cart:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{cartItems:[],shippingAddress:{}},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case y:var r=t.payload,a=e.cartItems.find((function(e){return e.productId===r.productId&&e.variantId===r.variantId}));return a?Object(l.a)(Object(l.a)({},e),{},{cartItems:e.cartItems.map((function(e){return e.productId===a.productId&&e.variantId===a.variantId?r:e}))}):Object(l.a)(Object(l.a)({},e),{},{cartItems:[].concat(Object(g.a)(e.cartItems),[r])});case S:var n=t.payload.productId,c=t.payload.variantId;return Object(l.a)(Object(l.a)({},e),{},{cartItems:e.cartItems.filter((function(e){return e.productId!==n||e.variantId!==c}))});case I:return Object(l.a)(Object(l.a)({},e),{},{shippingAddress:t.payload});case E:return Object(l.a)(Object(l.a)({},e),{},{paymentMethod:t.payload});case C:return Object(l.a)(Object(l.a)({},e),{},{cartItems:[]});default:return e}},userLogin:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case k:return{loading:!0};case w:return{loading:!1,userInfo:t.payload};case _:return{loading:!1,error:t.payload};case R:return{};default:return e}},userRegister:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case A:return{loading:!0};case Y:return{loading:!0,OTPready:!0};case P:return{loading:!1,OTPready:!0};case N:return{loading:!1,error:t.payload};case Q:return{loading:!1,error:t.payload,OTPready:!0};case $:return{loading:!1,userInfo:t.payload};case R:return{};default:return e}},userDetails:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{user:{}},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case L:return Object(l.a)(Object(l.a)({},e),{},{loading:!0});case T:return{loading:!1,user:t.payload};case D:return{loading:!1,error:t.payload};case M:return{user:{}};default:return e}},userUpdateProfile:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case U:return{loading:!0};case G:return{loading:!1,success:!0,userInfo:t.payload};case q:return{loading:!1,error:t.payload};case F:return{};default:return e}},orderCreate:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case z:return Object(l.a)(Object(l.a)({},e),{},{loading:!0});case H:return{success:!0,loading:!1,order:t.payload};case K:return{loading:!1,error:t.payload};case X:return{};default:return e}},orderDetails:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{loading:!0,orderItems:[],shippingAddress:{}},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Z:return Object(l.a)(Object(l.a)({},e),{},{loading:!0});case ee:return{loading:!1,order:t.payload};case te:return{loading:!1,error:t.payload};case re:return{loading:!1,orderItems:[],shippingAddress:{}};default:return e}},orderPay:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case ae:return{loading:!0};case ne:return{loading:!1,success:!0};case ce:return{loading:!1,error:t.payload};case se:return{};default:return e}},orderListMy:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{orders:[]},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case ie:return{loading:!0};case de:return{loading:!1,orders:t.payload};case oe:return{loading:!1,error:t.payload};case le:return{orders:[]};default:return e}},keyword:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1?arguments[1]:void 0;return"UPDATE_KEYWORD"===t.type?{keyword:t.payload}:e},savedAddresses:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case B:return{loading:!0};case J:return{loading:!1,success:!0,addresses:W(t.payload)};case V:return{loading:!1,error:t.payload};default:return e}}}),me=localStorage.getItem("cartItems")?JSON.parse(localStorage.getItem("cartItems")):[],fe=localStorage.getItem("userInfo")?JSON.parse(localStorage.getItem("userInfo")):null,ve={cart:{cartItems:me,shippingAddress:localStorage.getItem("shippingAddress")?JSON.parse(localStorage.getItem("shippingAddress")):{}},userLogin:{userInfo:fe}},ge=[d.a],ye=Object(i.createStore)(xe,ve,Object(o.composeWithDevTools)(i.applyMiddleware.apply(void 0,ge))),Se=(r(128),r(129),r(142)),Ie=r(10),Ee=r(9),Ce=r(150),ke=r(153),we=r(148),_e=r(18),Re=r(92),Ae=r(80),Pe=r.n(Ae),Ne=he.a.create({baseURL:"https://fishnstik.herokuapp.com",headers:{"Content-type":"application/json"}});Ne.interceptors.request.use(function(){var e=Object(be.a)(ue.a.mark((function e(t){var r,a,n,c,s;return ue.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=localStorage.getItem("userInfo")?JSON.parse(localStorage.getItem("userInfo")):null,t.headers.Authorization="Bearer ".concat(null===r||void 0===r?void 0:r.access),a=Object(Re.a)(null===r||void 0===r?void 0:r.access),Pe.a.unix(a.exp).diff(Pe()())<1){e.next=6;break}return e.abrupt("return",t);case 6:return n={headers:{"Content-type":"application/json","Refresh-attempt":!0}},e.next=9,he.a.post("/api/users/login/refresh/",{refresh:r.refresh},n);case 9:return c=e.sent,s=c.data,localStorage.setItem("userInfo",JSON.stringify(s)),t.headers.Authorization="Bearer ".concat(s.access),e.abrupt("return",t);case 14:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());var Le=Ne,Te=function(){return function(){var e=Object(be.a)(ue.a.mark((function e(t){return ue.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:localStorage.removeItem("userInfo"),t({type:R}),t({type:M}),t({type:le}),t({type:v}),t({type:re}),t({type:X});case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},De=r(5),Ue=r(93),Ge=r(149),Fe=r(94),qe=r(0);var Me=function(){var e=Object(a.useState)(""),t=Object(De.a)(e,2),r=t[0],n=t[1],c=Object(Ee.t)(),s=Object(Ee.r)();return Object(qe.jsx)(Ue.a,{md:6,children:Object(qe.jsxs)(Ge.a,{onSubmit:function(e){e.preventDefault(),c(r?"/?keyword=".concat(r,"&page=1"):s.pathname)},className:"flex mt-2",children:[Object(qe.jsx)(Ge.a.Control,{size:"sm",type:"text",name:"q",onChange:function(e){return n(e.target.value)},className:"mr-sm-2 ml-sm-5"}),Object(qe.jsx)(Fe.a,{type:"submit",variant:"outline-success",className:"p-2 inline",children:"Submit"})]})})};var Qe=function(){var e=Object(Ee.t)(),t=Object(s.c)((function(e){return e.userLogin})).userInfo,r=Object(s.b)();return Object(qe.jsx)("header",{children:Object(qe.jsx)(Ce.a,{bg:"dark",variant:"dark",collapseOnSelect:!0,expand:"lg",children:Object(qe.jsxs)(Se.a,{children:[Object(qe.jsx)(_e.LinkContainer,{to:"/",children:Object(qe.jsx)(Ce.a.Brand,{children:"Fish N Stik"})}),Object(qe.jsx)(Ce.a.Toggle,{"aria-controls":"basic-navbar-nav"}),Object(qe.jsxs)(Ce.a.Collapse,{id:"basic-navbar-nav",children:[Object(qe.jsx)(Me,{}),Object(qe.jsx)(ke.a,{className:"mr-auto",children:Object(qe.jsxs)(Se.a,{className:"flex width wrap",children:[Object(qe.jsxs)(we.a,{title:"Our products",children:[Object(qe.jsx)(_e.LinkContainer,{to:"/?keyword=hooks",children:Object(qe.jsx)(we.a.Item,{children:"Hooks"})}),Object(qe.jsx)(_e.LinkContainer,{to:"/?keyword=snaps",children:Object(qe.jsx)(we.a.Item,{children:"Snaps"})}),Object(qe.jsx)(_e.LinkContainer,{to:"/?keyword=swivels",children:Object(qe.jsx)(we.a.Item,{children:"Swivels"})}),Object(qe.jsx)(_e.LinkContainer,{to:"/?keyword=fishingline",children:Object(qe.jsx)(we.a.Item,{children:"Fishing Line"})})]}),t?Object(qe.jsxs)(we.a,{title:"Welcome!",id:"username",children:[Object(qe.jsx)(_e.LinkContainer,{to:"/profile",children:Object(qe.jsx)(we.a.Item,{children:"Profile"})}),Object(qe.jsx)(we.a.Item,{onClick:function(){r(Te()),e("/")},children:"Logout"})]}):Object(qe.jsx)(_e.LinkContainer,{to:"/login",children:Object(qe.jsxs)(ke.a.Link,{children:[Object(qe.jsx)("i",{className:"fas fa-userf"}),"Login"]})}),Object(qe.jsx)(_e.LinkContainer,{to:"/cart",className:"left",children:Object(qe.jsxs)(ke.a.Link,{children:[Object(qe.jsx)("i",{className:"fas fa-shopping-cart"}),"Cart"]})})]})})]})]})})})},Ye=r(143);var $e=function(){return Object(qe.jsx)("footer",{children:Object(qe.jsx)(Se.a,{children:Object(qe.jsxs)(Ye.a,{className:"flex align light",children:[Object(qe.jsx)(Ue.a,{className:"text-center py-3",children:"Copyright \xa9 Fish N Stik"}),Object(qe.jsx)(Ue.a,{children:Object(qe.jsx)("a",{href:"/#/aboutus",children:"About us"})})]})})})},Be=r(152);var Je=function(e){var t=e.value,r=e.text,a=e.color;return Object(qe.jsxs)("div",{className:"rating",children:[Object(qe.jsx)("span",{children:Object(qe.jsx)("i",{style:{color:a},className:t>=1?"fa fa-star":t>=.5?"fas fa-star-half-alt":"far fa-star"})}),Object(qe.jsx)("span",{children:Object(qe.jsx)("i",{style:{color:a},className:t>=2?"fa fa-star":t>=1.5?"fas fa-star-half-alt":"far fa-star"})}),Object(qe.jsx)("span",{children:Object(qe.jsx)("i",{style:{color:a},className:t>=3?"fa fa-star":t>=2.5?"fas fa-star-half-alt":"far fa-star"})}),Object(qe.jsx)("span",{children:Object(qe.jsx)("i",{style:{color:a},className:t>=4?"fa fa-star":t>=3.5?"fas fa-star-half-alt":"far fa-star"})}),Object(qe.jsx)("span",{children:Object(qe.jsx)("i",{style:{color:a},className:t>=5?"fa fa-star":t>=4.5?"fas fa-star-half-alt":"far fa-star"})}),Object(qe.jsxs)("p",{className:"light",children:[" ",r&&r]})]})};var Ve=function(e){var t=e.product;return Object(qe.jsxs)(Be.a,{className:"my-1 p-1 rounded max-content",children:[Object(qe.jsx)(Ie.Link,{to:"/product/".concat(t._id),children:Object(qe.jsx)("div",{className:"objectfit",children:Object(qe.jsx)(Be.a.Img,{className:"fullsize",src:t.image})})}),Object(qe.jsxs)(Be.a.Body,{children:[Object(qe.jsx)(Ie.Link,{className:"product-links",to:"/product/".concat(t._id),children:Object(qe.jsx)(Be.a.Title,{as:"div",children:Object(qe.jsx)("strong",{children:t.name})})}),t.catchPhrase?Object(qe.jsx)("span",{children:t.catchPhrase}):"",Object(qe.jsx)(Be.a.Text,{as:"div",children:Object(qe.jsx)("div",{className:"my-3",children:Object(qe.jsx)(Je,{value:t.rating,text:"".concat(t.numReviews," reviews"),color:"#f8e825"})})}),Object(qe.jsxs)(Be.a.Text,{className:"light border-top",children:[t.numVariants," types"]}),Object(qe.jsxs)(Be.a.Text,{className:"light",children:["From $",Math.min.apply(Math,Object(g.a)(t.variants.map((function(e){return e.price}))))," each"]})]})]})},We=r(144);var ze=function(){return Object(qe.jsx)(We.a,{animation:"border",role:"status",style:{height:"100px",width:"100px",margin:"auto",display:"block"},children:Object(qe.jsx)("span",{className:"sr-only",children:"Loading..."})})},He=r(145);var Ke=function(e){var t=e.variant,r=e.children;return Object(qe.jsx)(He.a,{variant:t,children:r})},Xe=r(154);var Ze=function(e){var t=e.pages,r=e.page,a=e.keyword,n=void 0===a?"":a;return e.isAdmin,n&&(n=n.split("?keyword=")[1].split("&")[0]),t>1&&Object(qe.jsx)(Xe.a,{children:Object(g.a)(Array(t).keys()).map((function(e){return Object(qe.jsx)(_e.LinkContainer,{to:"/?keyword=".concat(n,"&page=").concat(e+1),children:Object(qe.jsx)(Xe.a.Item,{active:e+1===r,children:e+1})},e+1)}))})};var et=function(){var e=Object(s.b)(),t=Object(s.c)((function(e){return e.productList})),r=t.error,n=t.loading,c=t.products,i=t.page,d=t.pages,o=Object(Ee.r)().search;return Object(a.useEffect)((function(){e(function(e){return function(){var t=Object(be.a)(ue.a.mark((function t(r){return ue.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:r({type:"UPDATE_KEYWORD",payload:e});case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}(o)),e(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return function(){var t=Object(be.a)(ue.a.mark((function t(r){var a,n;return ue.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,r({type:j}),t.next=4,he.a.get("/api/products/".concat(e));case 4:a=t.sent,n=a.data,r({type:u,payload:n}),t.next=12;break;case 9:t.prev=9,t.t0=t.catch(0),r({type:b,payload:t.t0.response&&t.t0.response.data.detail?t.t0.response.data.detail:t.t0.message});case 12:case"end":return t.stop()}}),t,null,[[0,9]])})));return function(e){return t.apply(this,arguments)}}()}(o))}),[e,o]),Object(qe.jsxs)("div",{children:[Object(qe.jsx)("h1",{children:"Latest Products"}),n?Object(qe.jsx)(ze,{}):r?Object(qe.jsx)(Ke,{variant:"danger",children:r}):Object(qe.jsxs)("div",{children:[Object(qe.jsx)(Ye.a,{className:"flex",children:c.map((function(e){return Object(qe.jsx)(Ue.a,{className:"gap2",children:Object(qe.jsx)(Ve,{product:e,keyword:o})},e._id)}))}),Object(qe.jsx)(Ze,{page:i,pages:d,keyword:o})]})]})},tt=r(146),rt=r(151),at=r(155),nt=r(147);var ct=function(){var e=Object(a.useState)(!1),t=Object(De.a)(e,2),r=t[0],n=t[1],c=function(){return n(!1)},i=Object(a.useState)(new Array(15).fill(!1)),d=Object(De.a)(i,2),o=d[0],l=d[1],j=function(){return l(new Array(15).fill(!1))},u=Object(a.useState)(1),b=Object(De.a)(u,2),y=b[0],S=b[1],I=Object(a.useState)(0),E=Object(De.a)(I,2),C=E[0],k=E[1],w=Object(a.useState)(""),_=Object(De.a)(w,2),R=_[0],A=_[1],P=Object(a.useState)(new Array(15).fill(!1)),N=Object(De.a)(P,2),L=N[0],T=N[1],D=Object(a.useState)(null),U=Object(De.a)(D,2),G=U[0],F=U[1],q=Object(s.b)(),M=Object(s.c)((function(e){return e.keyword})),Q=Object(s.c)((function(e){return e.productDetails})),Y=Q.loading,$=Q.error,B=Q.product,J=Object(s.c)((function(e){return e.userLogin})).userInfo,V=Object(s.c)((function(e){return e.productReviewCreate})),W=V.loading,z=V.error,H=V.success,K=Object(Ee.w)(),X=Object(Ee.t)();Object(a.useEffect)((function(){var e;(null===z||void 0===z?void 0:z.includes("token not valid"))&&q(Te()),H&&(k(0),A(""),q({type:v})),q((e=K.id,function(){var t=Object(be.a)(ue.a.mark((function t(r){var a,n;return ue.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,r({type:p}),t.next=4,he.a.get("/api/products/".concat(e));case 4:a=t.sent,n=a.data,r({type:h,payload:n}),t.next=12;break;case 9:t.prev=9,t.t0=t.catch(0),r({type:O,payload:t.t0.response&&t.t0.response.data.detail?t.t0.response.data.detail:t.t0.message});case 12:case"end":return t.stop()}}),t,null,[[0,9]])})));return function(e){return t.apply(this,arguments)}}()))}),[q,H,z,K.id]);var Z=function(e){X("/cart/".concat(K.id,"?qty=").concat(y,"&variant=").concat(e))};return Object(qe.jsxs)("div",{className:"hidden",children:[Object(qe.jsx)(Ie.Link,{to:M?"/".concat(M.keyword):"/",className:"btn btn-light my-3",children:"Go back"}),Y?Object(qe.jsx)(ze,{}):$?Object(qe.jsx)(Ke,{variant:"danger",children:$}):Object(qe.jsxs)("div",{children:[Object(qe.jsxs)(Ye.a,{children:[Object(qe.jsx)(Ue.a,{md:4,children:Object(qe.jsx)(tt.a,{onClick:function(){return n(!0)},src:B.image,alt:B.name,fluid:!0,className:"productImage"})}),Object(qe.jsxs)(rt.a,{show:r,onHide:c,children:[Object(qe.jsx)(rt.a.Body,{children:Object(qe.jsx)(tt.a,{src:B.image,alt:B.name,fluid:!0,className:"modalImage fullsize"})}),Object(qe.jsx)(rt.a.Footer,{children:Object(qe.jsx)(Fe.a,{variant:"secondary",onClick:c,children:"Close"})})]}),Object(qe.jsx)(Ue.a,{md:6,children:Object(qe.jsxs)(at.a,{variant:"flush",children:[Object(qe.jsx)(at.a.Item,{children:Object(qe.jsx)("h3",{children:B.name})}),Object(qe.jsx)(at.a.Item,{children:Object(qe.jsx)(Je,{value:B.rating,text:"".concat(B.numReviews," reviews"),color:"#f8e825"})}),Object(qe.jsxs)(at.a.Item,{children:["Description: ",B.description]})]})}),1===B.numVariants&&Object(qe.jsx)(Ue.a,{md:5,children:Object(qe.jsx)(Be.a,{md:5,className:"my-5",children:Object(qe.jsx)(Be.a,{children:Object(qe.jsxs)(at.a,{variant:"flush",children:[Object(qe.jsx)(at.a.Item,{children:Object(qe.jsxs)(Ye.a,{children:[Object(qe.jsx)(Ue.a,{children:"Price:"}),Object(qe.jsx)(Ue.a,{children:Object(qe.jsxs)("strong",{children:["$",B.variants[0].price]})})]})}),Object(qe.jsx)(at.a.Item,{children:Object(qe.jsxs)(Ye.a,{children:[Object(qe.jsx)(Ue.a,{children:"Status:"}),Object(qe.jsx)(Ue.a,{children:B.variants[0].countInStock>0?"In Stock":"Out of Stock"})]})}),B.variants[0].countInStock>0&&Object(qe.jsx)(at.a.Item,{children:Object(qe.jsxs)(Ye.a,{children:[Object(qe.jsx)(Ue.a,{children:"Qty"}),Object(qe.jsx)(Ue.a,{xs:"auto",className:"my-1",children:Object(qe.jsx)(Ge.a.Select,{value:y,onChange:function(e){return S(e.target.value)},children:Object(g.a)(Array(B.variants[0].countInStock).keys()).map((function(e){return Object(qe.jsx)("option",{value:e+1,children:e+1},e+1)}))})})]})}),Object(qe.jsx)(at.a.Item,{children:Object(qe.jsx)(Fe.a,{onClick:function(){return Z(B.variants[0]._id)},className:"btn-block",disabled:0===B.variants[0].countInStock,type:"button",children:"Add to Cart"})})]})})})}),B.numVariants>1&&Object(qe.jsxs)("div",{children:[Object(qe.jsxs)(nt.a,{size:"sm",hover:!0,className:"my-5 margin",children:[Object(qe.jsx)("thead",{children:Object(qe.jsxs)("tr",{className:"bold light",children:[Object(qe.jsx)("th",{children:"Image"}),Object(qe.jsx)("th",{children:"Description"}),Object(qe.jsx)("th",{children:"Price / each"})]})}),Object(qe.jsx)("tbody",{children:B.variants.map((function(e,t){return Object(qe.jsxs)("tr",{onClick:function(){return function(e){var t=L.map((function(t,r){return r===e}));T(t),F(e)}(t)},className:L[t]?"marked":"",children:[Object(qe.jsxs)("td",{children:[Object(qe.jsx)(tt.a,{onClick:function(){return function(e){var t=o.map((function(t,r){return r===e}));l(t)}(t)},className:"thumbsize zindex",src:e.image,alt:e.name,thumbnail:!0}),Object(qe.jsxs)(rt.a,{show:o[t],onHide:j,children:[Object(qe.jsx)(rt.a.Body,{children:Object(qe.jsx)(tt.a,{src:e.image,alt:e.description,fluid:!0,className:"modalImage fullsize"})}),Object(qe.jsx)(rt.a.Footer,{children:Object(qe.jsx)(Fe.a,{variant:"secondary",onClick:j,children:"Close"})})]})]}),Object(qe.jsxs)("td",{children:[e.description,Object(qe.jsx)("br",{}),e.relatedProductLink&&Object(qe.jsx)(Ie.Link,{to:"/product/".concat(B._id),className:"btn-sm small green",children:"Related product link"})]}),Object(qe.jsx)("td",{className:"smallscreenRow",children:e.price})]},e._id)}))})]}),B.variants[G]&&Object(qe.jsx)(Be.a,{md:5,className:"my-5 justify-content-center",children:Object(qe.jsx)(Be.a,{children:Object(qe.jsxs)(at.a,{variant:"flush",children:[Object(qe.jsx)(at.a.Item,{children:Object(qe.jsxs)(Ye.a,{children:[Object(qe.jsx)(Ue.a,{children:"Price / total:"}),Object(qe.jsxs)(Ue.a,{children:[B.variants[G].price," x ",y," = $",B.variants[G].price*y]})]})}),Object(qe.jsx)(at.a.Item,{children:Object(qe.jsxs)(Ye.a,{children:[Object(qe.jsx)(Ue.a,{children:"Status:"}),Object(qe.jsx)(Ue.a,{children:B.variants[G].countInStock>0?"In Stock":"Out of Stock"})]})}),B.variants[G].countInStock>0&&Object(qe.jsx)(at.a.Item,{children:Object(qe.jsxs)(Ye.a,{children:[Object(qe.jsx)(Ue.a,{children:"Amount ready to ship:"}),Object(qe.jsx)(Ue.a,{children:B.variants[G].countInStock})]})}),B.variants[G].countInStock>0&&Object(qe.jsxs)(at.a.Item,{children:[Object(qe.jsxs)(Ye.a,{children:[Object(qe.jsx)(Ue.a,{children:"Qty"}),Object(qe.jsx)(Ue.a,{children:Object(qe.jsx)(Ge.a.Select,{value:y,onChange:function(e){return S(e.target.value)},children:Object(g.a)(Array(B.variants[G].countInStock).keys()).map((function(e){return Object(qe.jsx)("option",{value:e+1,children:e+1},e+1)}))})})]}),Object(qe.jsx)(Ye.a,{className:"center italic"})]}),Object(qe.jsx)(at.a.Item,{children:Object(qe.jsx)(Fe.a,{onClick:function(){return Z(B.variants[G]._id)},className:"btn-block",disabled:B.variants[G].countInStock<=0,type:"button",children:"Add to Cart"})})]})})})]})]}),Object(qe.jsx)(Ye.a,{children:Object(qe.jsxs)(Ue.a,{md:6,children:[Object(qe.jsx)("h4",{children:"Recent reviews"}),0===B.reviews.length&&Object(qe.jsx)(Ke,{variant:"info",children:"No Reviews"}),Object(qe.jsxs)(at.a,{variant:"flush",children:[B.reviews.map((function(e){return Object(qe.jsxs)(at.a.Item,{children:[Object(qe.jsx)("strong",{children:e.name}),Object(qe.jsx)(Je,{value:e.rating,color:"#f8e825"}),Object(qe.jsxs)("div",{className:"light flex",children:[Object(qe.jsx)("p",{style:{marginRight:"1rem"},children:e.createdAt.substring(0,10)}),Object(qe.jsx)("p",{children:e.comment})]})]},e._id)})),Object(qe.jsxs)(at.a.Item,{children:[Object(qe.jsx)("h4",{children:"Write a review"}),W&&Object(qe.jsx)(ze,{}),H&&Object(qe.jsx)(Ke,{variant:"success",children:"Review Submitted"}),z&&Object(qe.jsx)(Ke,{variant:"danger",children:z}),J?Object(qe.jsxs)(Ge.a,{onSubmit:function(e){e.preventDefault(),q(function(e,t){return function(){var r=Object(be.a)(ue.a.mark((function r(a,n){var c,s;return ue.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,a({type:x}),r.next=4,Le.post("/api/products/".concat(e,"/reviews/"),t);case 4:c=r.sent,s=c.data,a({type:m,payload:s}),r.next=12;break;case 9:r.prev=9,r.t0=r.catch(0),a({type:f,payload:r.t0.response&&r.t0.response.data.detail?r.t0.response.data.detail:r.t0.message});case 12:case"end":return r.stop()}}),r,null,[[0,9]])})));return function(e,t){return r.apply(this,arguments)}}()}(K.id,{rating:C,comment:R}))},children:[Object(qe.jsxs)(Ge.a.Group,{controlId:"rating",children:[Object(qe.jsx)(Ge.a.Label,{children:"Rating"}),Object(qe.jsxs)(Ge.a.Control,{as:"select",value:C,onChange:function(e){return k(e.target.value)},children:[Object(qe.jsx)("option",{value:"",children:"Select..."}),Object(qe.jsx)("option",{value:"1",children:"1 - Poor"}),Object(qe.jsx)("option",{value:"2",children:"2 - Fair"}),Object(qe.jsx)("option",{value:"3",children:"3 - Good"}),Object(qe.jsx)("option",{value:"4",children:"4 - Very Good"}),Object(qe.jsx)("option",{value:"5",children:"5 - Excellent"})]})]}),Object(qe.jsxs)(Ge.a.Group,{controlId:"comment",children:[Object(qe.jsx)(Ge.a.Label,{children:"Review"}),Object(qe.jsx)(Ge.a.Control,{as:"textarea",rows:"5",value:R,onChange:function(e){return A(e.target.value)}})]}),Object(qe.jsx)(Fe.a,{disabled:W,type:"submit",variant:"primary",children:"Submit"})]}):Object(qe.jsxs)(Ke,{variant:"info",children:["Please ",Object(qe.jsx)(Ie.Link,{to:"/login",children:"login"})," to write a review"]})]})]})]})})]})]})};var st=function(){var e=Object(Ee.w)().id,t=Object(Ee.t)(),r=parseInt(Object(Ee.r)().search.split("=")[1]);r||(r=1);var n=Object(Ie.useSearchParams)(),c=Object(De.a)(n,2),i=c[0],d=(c[1],Number(i.get("variant"))),o=Object(s.b)(),l=Object(s.c)((function(e){return e.cart})).cartItems;Object(a.useEffect)((function(){e&&o(Oe(e,d,r))}),[o,e,d,r]);var j=function(e,t){o(function(e,t){return function(){var r=Object(be.a)(ue.a.mark((function r(a,n){return ue.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:a({type:S,payload:{productId:e,variantId:t}}),localStorage.setItem("cartItems",JSON.stringify(n().cart.cartItems));case 2:case"end":return r.stop()}}),r)})));return function(e,t){return r.apply(this,arguments)}}()}(e,t))};return Object(qe.jsxs)(Ye.a,{children:[Object(qe.jsxs)(Ue.a,{md:12,children:[Object(qe.jsx)("h1",{children:"Shopping Cart"}),0===l.length?Object(qe.jsxs)(Ke,{variant:"info",children:["Your cart is empty ",Object(qe.jsx)(Ie.Link,{to:"/",children:"Go Back"})]}):Object(qe.jsx)(at.a,{variant:"flush",children:l.map((function(e){return Object(qe.jsx)(at.a.Item,{className:"border-top border-bottom",children:Object(qe.jsxs)(Ye.a,{children:[Object(qe.jsx)(Ue.a,{children:Object(qe.jsx)(tt.a,{src:e.image,alt:e.name,fluid:!0,rounded:!0,className:"thumbsize"})}),Object(qe.jsx)(Ue.a,{md:4,children:Object(qe.jsxs)(Ie.Link,{className:"product-links",to:"/product/".concat(e.productId),children:[Object(qe.jsx)("strong",{className:"bold",children:e.name})," ",Object(qe.jsxs)("p",{className:"light",children:["(",e.variantDescription,")"]})]})}),Object(qe.jsxs)(Ue.a,{md:1,children:["$",e.price," ",Object(qe.jsx)("p",{className:"light",children:"(each)"})]}),Object(qe.jsxs)("div",{className:"flex gap",children:[Object(qe.jsx)(Ue.a,{md:4,children:Object(qe.jsx)(Ge.a.Select,{value:e.qty,onChange:function(t){return o(Oe(e.productId,e.variantId,Number(t.target.value)))},children:Object(g.a)(Array(e.countInStock).keys()).map((function(e){return Object(qe.jsx)("option",{value:e+1,children:e+1},e+1)}))})}),Object(qe.jsx)(Ue.a,{md:1,children:Object(qe.jsx)(Fe.a,{type:"button",variant:"light",onClick:function(){return j(e.productId,e.variantId)},children:Object(qe.jsx)("i",{className:"fas fa-trash"})})})]})]})},"p".concat(e.productId,"v").concat(e.variantId))}))})]}),Object(qe.jsx)(Ue.a,{md:6,children:Object(qe.jsx)(Be.a,{className:"my-5",children:Object(qe.jsxs)(at.a,{variant:"flush",children:[Object(qe.jsxs)(at.a.Item,{children:[Object(qe.jsxs)("h2",{children:["Subtotal (",l.reduce((function(e,t){return e+t.qty}),0),") items"]}),"$",l.reduce((function(e,t){return e+t.qty*t.price}),0).toFixed(2)]}),Object(qe.jsx)(at.a.Item,{children:Object(qe.jsx)(Fe.a,{type:"button",className:"bnt-block",disabled:0===l.length,onClick:function(){t("/login?redirect=/shipping")},children:"Proceed to Checkout"})})]})})})]})};var it=function(e){var t=e.children;return Object(qe.jsx)(Se.a,{children:Object(qe.jsx)(Ye.a,{className:"justify-content-md-center",children:Object(qe.jsx)(Ue.a,{xs:12,md:6,children:t})})})};var dt=function(){var e=Object(a.useState)(""),t=Object(De.a)(e,2),r=t[0],n=t[1],c=Object(a.useState)(""),i=Object(De.a)(c,2),d=i[0],o=i[1],l=Object(a.useState)(!1),j=Object(De.a)(l,2),u=j[0],b=j[1],p=Object(a.useState)(""),h=Object(De.a)(p,2),O=h[0],x=h[1],m=Object(s.b)(),f=Object(Ee.t)(),v=Object(Ee.r)().search.split("=")[1];v||(v="/");var g=Object(s.c)((function(e){return e.userLogin})),y=g.error,S=g.loading,I=g.userInfo;return Object(a.useEffect)((function(){I&&f(v),y&&y[0].includes("We were not able to verify your email")&&b(!0)}),[f,I,v,y]),Object(qe.jsxs)("div",{children:[y&&Object(qe.jsx)(Ke,{variant:"danger",children:y}),S&&Object(qe.jsx)(ze,{}),u?Object(qe.jsxs)(it,{children:[Object(qe.jsx)("h1",{children:"Validate Email"}),Object(qe.jsx)("br",{}),Object(qe.jsx)("h5",{children:"An OTP was sent to email associated with your account. Please enter it here to complete registration."}),Object(qe.jsx)("br",{}),Object(qe.jsxs)(Ge.a,{onSubmit:function(e){e.preventDefault(),m(function(e,t,r){return function(){var a=Object(be.a)(ue.a.mark((function a(n){var c,s,i;return ue.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,n({type:k}),c={headers:{"Content-type":"application/json"}},a.next=5,he.a.post("/api/users/login/OTP",{OTP:e,username:t,password:r},c);case 5:s=a.sent,i=s.data,n({type:w,payload:i}),localStorage.setItem("userInfo",JSON.stringify(i)),a.next=14;break;case 11:a.prev=11,a.t0=a.catch(0),n({type:_,payload:a.t0.response&&a.t0.response.data.detail?a.t0.response.data.detail:a.t0.message});case 14:case 15:case"end":return a.stop()}}),a,null,[[0,11]])})));return function(e){return a.apply(this,arguments)}}()}(O,r,d))},children:[Object(qe.jsx)(Ge.a.Group,{controlId:"OTP",children:Object(qe.jsx)(Ge.a.Control,{required:!0,type:"name",placeholder:"OTP from your email",value:O,onChange:function(e){return x(e.target.value)}})}),Object(qe.jsx)(Fe.a,{type:"submit",variant:"primary",children:"Submit"})]})]}):Object(qe.jsxs)(it,{children:[Object(qe.jsx)("h1",{children:"Sign In"}),y&&Object(qe.jsx)(Ke,{variant:"danger",children:y}),Object(qe.jsxs)(Ge.a,{onSubmit:function(e){e.preventDefault(),m(function(e,t){return function(){var r=Object(be.a)(ue.a.mark((function r(a){var n,c,s;return ue.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,a({type:k}),n={headers:{"Content-type":"application/json"}},r.next=5,he.a.post("/api/users/login/",{username:e,password:t},n);case 5:c=r.sent,s=c.data,a({type:w,payload:s}),localStorage.setItem("userInfo",JSON.stringify(s)),r.next=14;break;case 11:r.prev=11,r.t0=r.catch(0),a({type:_,payload:r.t0.response&&r.t0.response.data.detail?r.t0.response.data.detail:r.t0.message});case 14:case 15:case"end":return r.stop()}}),r,null,[[0,11]])})));return function(e){return r.apply(this,arguments)}}()}(r,d))},children:[Object(qe.jsxs)(Ge.a.Group,{controlId:"username",children:[Object(qe.jsx)(Ge.a.Label,{children:"Username"}),Object(qe.jsx)(Ge.a.Control,{required:!0,type:"Username",placeholder:"Your username",value:r,onChange:function(e){return n(e.target.value)}})]}),Object(qe.jsxs)(Ge.a.Group,{controlId:"password",children:[Object(qe.jsx)(Ge.a.Label,{children:"Password"}),Object(qe.jsx)(Ge.a.Control,{required:!0,type:"password",placeholder:"Enter password",value:d,onChange:function(e){return o(e.target.value)}})]}),Object(qe.jsx)(Fe.a,{type:"submit",variant:"primary",children:"Sign In"})]}),Object(qe.jsx)(Ye.a,{className:"py-3",children:Object(qe.jsxs)(Ue.a,{children:["New to our site?",Object(qe.jsx)(Ie.Link,{to:v?"/register?redirect=".concat(v):"/register",children:" Register"})]})})]})]})};var ot=function(){var e=Object(a.useState)(""),t=Object(De.a)(e,2),r=t[0],n=t[1],c=Object(a.useState)(""),i=Object(De.a)(c,2),d=i[0],o=i[1],l=Object(a.useState)(""),j=Object(De.a)(l,2),u=j[0],b=j[1],p=Object(a.useState)(""),h=Object(De.a)(p,2),O=h[0],x=h[1],m=Object(a.useState)(""),f=Object(De.a)(m,2),v=f[0],g=f[1],y=Object(a.useState)(""),S=Object(De.a)(y,2),I=S[0],E=S[1],C=Object(s.b)(),k=Object(Ee.t)(),_=Object(Ee.r)().search.split("=")[1];_||(_="/");var R=Object(s.c)((function(e){return e.userRegister})),L=R.error,T=R.loading,D=R.OTPready,U=R.userInfo;return Object(a.useEffect)((function(){U&&k(_)}),[k,U,_]),Object(qe.jsxs)("div",{children:[L&&Object(qe.jsx)(Ke,{variant:"danger",children:L}),v&&Object(qe.jsx)(Ke,{variant:"danger",children:v}),T&&Object(qe.jsx)(ze,{}),D?Object(qe.jsxs)(it,{children:[Object(qe.jsx)("h1",{children:"Validate Email"}),Object(qe.jsx)("br",{}),Object(qe.jsxs)("h5",{children:["An OTP was sent to your email (",d,") for validation. Please enter it here to complete registration."]}),Object(qe.jsx)("br",{}),Object(qe.jsxs)(Ge.a,{onSubmit:function(e){e.preventDefault(),C(function(e,t,r){return function(){var a=Object(be.a)(ue.a.mark((function a(n){var c,s,i;return ue.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,n({type:Y}),c={headers:{"Content-type":"application/json"}},a.next=5,he.a.post("/api/users/login/OTP",{OTP:e,username:t,password:r},c);case 5:s=a.sent,i=s.data,n({type:w,payload:i}),n({type:$,payload:i}),localStorage.setItem("userInfo",JSON.stringify(i)),a.next=15;break;case 12:a.prev=12,a.t0=a.catch(0),n({type:Q,payload:a.t0.response&&a.t0.response.data.detail?a.t0.response.data.detail:a.t0.message});case 15:case 16:case"end":return a.stop()}}),a,null,[[0,12]])})));return function(e){return a.apply(this,arguments)}}()}(I,r,u))},children:[Object(qe.jsx)(Ge.a.Group,{controlId:"OTP",children:Object(qe.jsx)(Ge.a.Control,{required:!0,type:"name",placeholder:"OTP from your email",value:I,onChange:function(e){return E(e.target.value)}})}),Object(qe.jsx)(Fe.a,{type:"submit",variant:"primary",children:"Submit"})]})]}):Object(qe.jsxs)(it,{children:[Object(qe.jsx)("h1",{children:"Register"}),Object(qe.jsxs)(Ge.a,{onSubmit:function(e){e.preventDefault(),u!==O?g("Passwords do not match"):(C(function(e,t,r){return function(){var a=Object(be.a)(ue.a.mark((function a(n){var c,s,i;return ue.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,n({type:A}),c={headers:{"Content-type":"application/json"}},a.next=5,he.a.post("/api/users/register/",{username:e,email:t,password:r},c);case 5:s=a.sent,i=s.data,n({type:P,payload:i}),localStorage.setItem("userInfo",JSON.stringify(i)),a.next=14;break;case 11:a.prev=11,a.t0=a.catch(0),n({type:N,payload:Object.values(a.t0.response?a.t0.response.data:a.t0.message)});case 14:case 15:case"end":return a.stop()}}),a,null,[[0,11]])})));return function(e){return a.apply(this,arguments)}}()}(r,d,u)),g(""))},children:[Object(qe.jsxs)(Ge.a.Group,{controlId:"username",children:[Object(qe.jsx)(Ge.a.Label,{children:"User Name"}),Object(qe.jsx)(Ge.a.Control,{required:!0,type:"name",placeholder:"Please pick a username",value:r,onChange:function(e){return n(e.target.value)}})]}),Object(qe.jsxs)(Ge.a.Group,{controlId:"email",children:[Object(qe.jsx)(Ge.a.Label,{children:"Email Address"}),Object(qe.jsx)(Ge.a.Control,{required:!0,type:"email",placeholder:"Your email address",value:d,onChange:function(e){return o(e.target.value)}})]}),Object(qe.jsxs)(Ge.a.Group,{controlId:"password",children:[Object(qe.jsx)(Ge.a.Label,{children:"Password"}),Object(qe.jsx)(Ge.a.Control,{required:!0,type:"password",placeholder:"Enter password",value:u,onChange:function(e){return b(e.target.value)}})]}),Object(qe.jsxs)(Ge.a.Group,{controlId:"passwordConfirm",children:[Object(qe.jsx)(Ge.a.Label,{children:"Confirm Password"}),Object(qe.jsx)(Ge.a.Control,{required:!0,type:"password",placeholder:"Please confirm your password",value:O,onChange:function(e){return x(e.target.value)}})]}),Object(qe.jsx)(Fe.a,{type:"submit",variant:"primary",children:"Register"})]}),Object(qe.jsx)(Ye.a,{className:"py-3",children:Object(qe.jsxs)(Ue.a,{children:["Already have an Account?",Object(qe.jsx)(Ie.Link,{to:_?"/login?redirect=".concat(_):"/login",children:" Sign In"})]})})]})]})};var lt=function(){var e=Object(a.useState)(!1),t=Object(De.a)(e,2),r=t[0],n=t[1],c=Object(a.useState)(""),i=Object(De.a)(c,2),d=i[0],o=i[1],l=Object(a.useState)(""),j=Object(De.a)(l,2),u=j[0],b=j[1],p=Object(a.useState)(""),h=Object(De.a)(p,2),O=h[0],x=h[1],m=Object(a.useState)(""),f=Object(De.a)(m,2),v=f[0],g=f[1],y=Object(s.b)(),S=Object(Ee.t)(),I=Object(s.c)((function(e){return e.userDetails})),E=I.error,C=I.loading,k=I.user,_=Object(s.c)((function(e){return e.userLogin})).userInfo,A=Object(s.c)((function(e){return e.userUpdateProfile})),P=A.success,N=A.error,M=Object(s.c)((function(e){return e.orderListMy})),Q=M.loading,Y=M.error,$=M.orders;return Object(a.useEffect)((function(){var e;_||S("/login"),k&&k.username&&!P||(y({type:F}),y((e="profile",function(){var t=Object(be.a)(ue.a.mark((function t(r,a){var n,c;return ue.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,r({type:L}),t.next=4,Le.get("/api/users/".concat(e,"/"));case 4:n=t.sent,c=n.data,r({type:T,payload:c}),t.next=12;break;case 9:t.prev=9,t.t0=t.catch(0),r({type:D,payload:t.t0.response&&t.t0.response.data.detail?t.t0.response.data.detail:t.t0.message});case 12:case 13:case"end":return t.stop()}}),t,null,[[0,9]])})));return function(e,r){return t.apply(this,arguments)}}())),y(function(){var e=Object(be.a)(ue.a.mark((function e(t,r){var a,n;return ue.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t({type:ie}),e.next=4,Le.get("/api/orders/myorders/");case 4:a=e.sent,n=a.data,t({type:de,payload:n}),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),t({type:oe,payload:e.t0.response&&e.t0.response.data.detail?e.t0.response.data.detail:e.t0.message});case 12:case 13:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(t,r){return e.apply(this,arguments)}}()),b(""),x(""),o(""),n(!1)),"Given token not valid for any token type"!==E&&"Given token not valid for any token type"!==N||y({type:R})}),[S,_,y,k,P,E,N]),Object(qe.jsxs)(Ye.a,{children:[Object(qe.jsxs)(Ue.a,{children:[Object(qe.jsx)("h2",{children:"User Profile"}),v&&Object(qe.jsx)(Ke,{variant:"danger",children:v}),N&&Object(qe.jsx)(Ke,{variant:"danger",children:N}),P&&Object(qe.jsx)(Ke,{variant:"success",children:"Password updated"}),E&&Object(qe.jsx)(Ke,{variant:"danger",children:E}),C&&Object(qe.jsx)(ze,{}),Object(qe.jsxs)(at.a,{variant:"flush",children:[Object(qe.jsxs)(at.a.Item,{className:"flex gap",children:[Object(qe.jsxs)("span",{children:[Object(qe.jsx)("strong",{children:"Username:"}),k&&k.username]}),Object(qe.jsxs)("span",{className:"left",children:[Object(qe.jsx)("strong",{children:"Email:"}),k&&k.email]})]}),Object(qe.jsx)(at.a.Item,{children:Object(qe.jsx)(Fe.a,{onClick:function(){return n(!r)},children:"Reset Password"})})]}),Object(qe.jsx)(at.a,{variant:"flush",children:r&&Object(qe.jsxs)(Ge.a,{onSubmit:function(e){e.preventDefault(),u!==O?g("Passwords do not match"):(y(function(e){return function(){var t=Object(be.a)(ue.a.mark((function t(r,a){var n,c;return ue.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,r({type:U}),t.next=4,Le.put("/api/users/profile/update/",e);case 4:n=t.sent,c=n.data,r({type:G,payload:c}),r({type:w,payload:c}),localStorage.setItem("userInfo",JSON.stringify(c)),t.next=14;break;case 11:t.prev=11,t.t0=t.catch(0),r({type:q,payload:t.t0.response&&t.t0.response.data?Object.values(t.t0.response.data):t.t0.message});case 14:case 15:case"end":return t.stop()}}),t,null,[[0,11]])})));return function(e,r){return t.apply(this,arguments)}}()}({old_password:d,password:u,password2:O})),g(""))},children:[Object(qe.jsxs)(Ge.a.Group,{controlId:"oldpassword",children:[Object(qe.jsx)(Ge.a.Label,{children:"Old Password"}),Object(qe.jsx)(Ge.a.Control,{required:!0,type:"password",placeholder:"Please enter your old password",value:d,onChange:function(e){return o(e.target.value)}})]}),Object(qe.jsxs)(Ge.a.Group,{controlId:"password",children:[Object(qe.jsx)(Ge.a.Label,{children:"Password"}),Object(qe.jsx)(Ge.a.Control,{required:!0,type:"password",placeholder:"Enter Password",value:u,onChange:function(e){return b(e.target.value)}})]}),Object(qe.jsxs)(Ge.a.Group,{controlId:"password2",children:[Object(qe.jsx)(Ge.a.Label,{children:"Confirm Password"}),Object(qe.jsx)(Ge.a.Control,{required:!0,type:"password",placeholder:"Confirm Password",value:O,onChange:function(e){return x(e.target.value)}})]}),Object(qe.jsx)(Fe.a,{type:"submit",variant:"primary",children:"Update"})]})})]}),Object(qe.jsxs)(Ue.a,{md:9,children:[Object(qe.jsx)("h2",{children:"My Orders"}),Q?Object(qe.jsx)(ze,{}):Y?Object(qe.jsx)(Ke,{variant:"danger",children:E}):Object(qe.jsxs)(nt.a,{striped:!0,responsive:!0,className:"table-sm",children:[Object(qe.jsx)("thead",{children:Object(qe.jsxs)("tr",{children:[Object(qe.jsx)("th",{children:"ID"}),Object(qe.jsx)("th",{children:"Date"}),Object(qe.jsx)("th",{children:"Total"}),Object(qe.jsx)("th",{children:"Paid"}),Object(qe.jsx)("th",{children:"Delivered"})]})}),Object(qe.jsx)("tbody",{children:$.map((function(e){return Object(qe.jsxs)("tr",{children:[Object(qe.jsx)("td",{children:e._id}),Object(qe.jsx)("td",{children:e.createdAt.substring(0,10)}),Object(qe.jsxs)("td",{children:["$",e.totalPrice]}),Object(qe.jsx)("td",{children:e.isPaid?e.paidAt.substring(0,10):Object(qe.jsx)("i",{className:"fas fa-times",style:{color:"red"}})}),Object(qe.jsx)("td",{children:Object(qe.jsx)(_e.LinkContainer,{to:"/order/".concat(e._id),children:Object(qe.jsx)(Fe.a,{className:"btn=sm",children:"Details"})})})]},e._id)}))})]})]})]})};var jt=function(e){var t=e.step1,r=e.step2,a=e.step3,n=e.step4;return Object(qe.jsxs)(ke.a,{className:"justify-content-center mb-1",children:[Object(qe.jsx)(ke.a.Item,{children:t?Object(qe.jsx)(_e.LinkContainer,{to:"/login",children:Object(qe.jsx)(ke.a.Link,{children:"Login"})}):Object(qe.jsx)(ke.a.Link,{disabled:!0,children:"Login"})}),Object(qe.jsx)(ke.a.Item,{children:r?Object(qe.jsx)(_e.LinkContainer,{to:"/shipping",children:Object(qe.jsx)(ke.a.Link,{children:"Shipping"})}):Object(qe.jsx)(ke.a.Link,{disabled:!0,children:"Shipping"})}),Object(qe.jsx)(ke.a.Item,{children:a?Object(qe.jsx)(_e.LinkContainer,{to:"/payment",children:Object(qe.jsx)(ke.a.Link,{children:"Options"})}):Object(qe.jsx)(ke.a.Link,{disabled:!0,children:"Options"})}),Object(qe.jsx)(ke.a.Item,{children:n?Object(qe.jsx)(_e.LinkContainer,{to:"/placeorder",children:Object(qe.jsx)(ke.a.Link,{children:"Place Order"})}):Object(qe.jsx)(ke.a.Link,{disabled:!0,children:"Place Order"})})]})},ut=function(e){var t=e.index,r=e.input,a=e.highlighted,n=e.selectedAddress,c=r.name,s=r.address,i=r.apartment,d=r.city,o=r.state,l=r.postalCode,j=r.phone;return Object(qe.jsxs)("ul",{className:"".concat(a?"address-box-highlight":""," address-box"),onClick:function(){n(r,t)},children:[Object(qe.jsx)("li",{children:c}),Object(qe.jsx)("li",{children:s}),i&&Object(qe.jsx)("li",{children:i}),Object(qe.jsxs)("li",{children:[d,", ",o," ",l]}),j&&Object(qe.jsxs)("li",{children:["Phone: ",j]})]})};var bt=function(){var e=Object(s.c)((function(e){return e.cart})),t=Object(s.c)((function(e){return e.savedAddresses})),r=t.addresses,n=(t.success,t.loading),c=Object(a.useState)(new Array(10).fill(!1)),i=Object(De.a)(c,2),d=i[0],o=i[1],l=e.shippingAddress,j=Object(a.useState)(!1),u=Object(De.a)(j,2),b=u[0],p=u[1],h=Object(s.b)(),O=Object(Ee.t)(),x=Object(a.useState)(""),m=Object(De.a)(x,2),f=m[0],v=m[1],g=Object(a.useState)(l.name),y=Object(De.a)(g,2),S=y[0],E=y[1],C=Object(a.useState)(l.address),k=Object(De.a)(C,2),w=k[0],_=k[1],R=Object(a.useState)(l.apartment),A=Object(De.a)(R,2),P=A[0],N=A[1],L=Object(a.useState)(l.city),T=Object(De.a)(L,2),D=T[0],U=T[1],G=Object(a.useState)(l.state),F=Object(De.a)(G,2),q=F[0],M=F[1],Q=Object(a.useState)(l.postalCode),Y=Object(De.a)(Q,2),$=Y[0],W=Y[1],z=Object(a.useState)(l.phone),H=Object(De.a)(z,2),K=H[0],X=H[1];Object(a.useEffect)((function(){return h(function(){var e=Object(be.a)(ue.a.mark((function e(t){var r,a;return ue.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t({type:B}),e.next=5,Le.get("/api/users/address/");case 5:r=e.sent,a=r.data,t({type:J,payload:a}),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(0),t({type:V,payload:e.t0.response&&e.t0.response.data.detail?e.t0.response.data.detail:e.t0.message});case 13:case 14:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(t){return e.apply(this,arguments)}}())}),[]);var Z=function(e,t){E(e.name),_(e.address),N(e.apartment),U(e.city),M(e.state),W(e.postalCode),X(e.phone),o(d.map((function(e,r){return r===t}))),v("")},ee=function(e){if(e.preventDefault(),!S)return v("Please select address or add a new one"),!1;var t;v(""),h((t={name:S,address:w,apartment:P,city:D,state:q,postalCode:$,phone:K},function(){var e=Object(be.a)(ue.a.mark((function e(r){return ue.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r({type:I,payload:t});case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())),O("/payment")},te=function(){p(!b),o(new Array(10).fill(!1)),E(""),_(""),N(""),U(""),M(""),W(""),X(""),v("")},re=null===r||void 0===r?void 0:r.map((function(e,t){return Object(qe.jsx)(ut,{index:t,input:e,selectedAddress:Z,highlighted:d[t]},t)}));null===re||void 0===re||re.unshift(Object(qe.jsx)("div",{children:"Select from previously used addresses"},"title"));var ae=Object(qe.jsxs)(Ge.a,{onSubmit:ee,children:[Object(qe.jsxs)(Ge.a.Group,{controlId:"name",children:[Object(qe.jsx)(Ge.a.Label,{children:"Name"}),Object(qe.jsx)(Ge.a.Control,{required:!0,type:"text",placeholder:"Recipient name or business",value:S||"",onChange:function(e){return E(e.target.value)}})]}),Object(qe.jsxs)(Ge.a.Group,{controlId:"address",children:[Object(qe.jsx)(Ge.a.Label,{children:"Address"}),Object(qe.jsx)(Ge.a.Control,{required:!0,type:"text",placeholder:"Enter street address",value:w||"",onChange:function(e){return _(e.target.value)}})]}),Object(qe.jsxs)(Ge.a.Group,{controlId:"apartment",children:[Object(qe.jsx)(Ge.a.Label,{children:"Apartment"}),Object(qe.jsx)(Ge.a.Control,{type:"text",placeholder:"If applicable, enter apartment or suite",value:P||"",onChange:function(e){return N(e.target.value)}})]}),Object(qe.jsxs)(Ge.a.Group,{controlId:"city",children:[Object(qe.jsx)(Ge.a.Label,{children:"City"}),Object(qe.jsx)(Ge.a.Control,{required:!0,type:"text",placeholder:"Enter city",value:D||"",onChange:function(e){return U(e.target.value)}})]}),Object(qe.jsxs)(Ge.a.Group,{controlId:"state",children:[Object(qe.jsx)(Ge.a.Label,{children:"State"}),Object(qe.jsx)(Ge.a.Control,{required:!0,type:"text",placeholder:"Enter state",value:q||"",onChange:function(e){return M(e.target.value)}})]}),Object(qe.jsxs)(Ge.a.Group,{controlId:"postalCode",children:[Object(qe.jsx)(Ge.a.Label,{children:"PostalCode"}),Object(qe.jsx)(Ge.a.Control,{required:!0,type:"text",placeholder:"Enter postalCode",value:$||"",onChange:function(e){return W(e.target.value)}})]}),Object(qe.jsxs)(Ge.a.Group,{controlId:"phone",children:[Object(qe.jsx)(Ge.a.Label,{children:"Phone"}),Object(qe.jsx)(Ge.a.Control,{type:"text",placeholder:"Not required but helpful for sharing any information related to your order",value:K||"",onChange:function(e){return X(e.target.value)}})]}),Object(qe.jsxs)("div",{className:"flex gap3",children:[Object(qe.jsx)(Fe.a,{type:"submit",variant:"primary",className:"my-3",children:"Continue"}),r&&Object(qe.jsx)("a",{onClick:te,className:"extrabox",children:"Use address on file"})]})]});return Object(qe.jsxs)("div",{children:[f&&Object(qe.jsx)(Ke,{variant:"danger",children:f}),n&&Object(qe.jsx)(ze,{}),Object(qe.jsxs)(it,{children:[Object(qe.jsx)(jt,{step1:!0,step2:!0}),Object(qe.jsx)("h1",{children:"Shipping"}),r?Object(qe.jsxs)("div",{children:[b?"":re,!b&&Object(qe.jsxs)("div",{className:"flex gap3",children:[Object(qe.jsx)(Fe.a,{onClick:ee,variant:"primary",className:"my-3",children:"Continue"}),Object(qe.jsx)("a",{onClick:te,className:"extrabox",children:"Send to a different address"})]}),b?ae:""]}):ae]})]})};var pt=function(){var e=Object(s.c)((function(e){return e.cart})).shippingAddress,t=Object(s.b)(),r=Object(Ee.t)(),n=Object(a.useState)("PayPal or Credit Card"),c=Object(De.a)(n,2),i=c[0],d=c[1];return e.name||r("/shipping/"),Object(qe.jsxs)(it,{children:[Object(qe.jsx)(jt,{step1:!0,step2:!0,step3:!0}),Object(qe.jsxs)(Ge.a,{onSubmit:function(a){var n;(a.preventDefault(),e.name)?(t((n=i,function(){var e=Object(be.a)(ue.a.mark((function e(t){return ue.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t({type:E,payload:n});case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())),r("/placeorder")):r("/shipping")},children:[Object(qe.jsxs)(Ge.a.Group,{children:[Object(qe.jsx)(Ge.a.Label,{as:"legend",children:"Select Method"}),Object(qe.jsx)(Ue.a,{children:Object(qe.jsx)(Ge.a.Check,{type:"radio",label:"PayPal or Credit Card",id:"paypal",name:"paymentMethod",checked:!0,onChange:function(e){return d(e.target.value)}})})]}),Object(qe.jsx)(Fe.a,{type:"submit",variant:"primary",children:"Continue"})]})]})};var ht=function(){var e=Object(s.c)((function(e){return e.orderCreate})),t=e.order,r=e.error,n=e.success,c=Object(a.useState)(""),i=Object(De.a)(c,2),d=i[0],o=i[1],l=Object(s.b)(),j=Object(Ee.t)(),u=Object(s.c)((function(e){return e.cart}));return u.itemsPrice=u.cartItems.reduce((function(e,t){return e+t.price*t.qty}),0).toFixed(2),u.shippingPrice=(u.itemsPrice>100?0:10).toFixed(2),u.taxPrice=(.082*u.itemsPrice).toFixed(2),u.totalPrice=(Number(u.itemsPrice)+Number(u.taxPrice)+Number(u.shippingPrice)).toFixed(2),Object(a.useEffect)((function(){0===u.cartItems.length&&j("/"),u.shippingAddress.name||j("/shipping/"),u.paymentMethod||j("/payment"),n&&(j("/order/".concat(t._id)),l({type:X})),(null===r||void 0===r?void 0:r.includes("token not valid"))&&(l(Te()),j("/login/"))}),[r,n,l,j,u]),Object(qe.jsxs)("div",{children:[Object(qe.jsx)(jt,{step1:!0,step2:!0,step3:!0,step4:!0}),Object(qe.jsxs)(Ye.a,{children:[Object(qe.jsx)(Ue.a,{md:8,children:Object(qe.jsxs)(at.a,{variant:"flush",children:[Object(qe.jsxs)(at.a.Item,{children:[Object(qe.jsx)("h2",{children:"Shipping"}),Object(qe.jsxs)("ul",{className:"list",children:[Object(qe.jsx)("li",{className:"light my-2",children:"Shipping Address:"}),Object(qe.jsx)("li",{children:u.shippingAddress.name}),Object(qe.jsx)("li",{children:u.shippingAddress.address}),u.shippingAddress.apartment?Object(qe.jsxs)("li",{children:["Apt/Ste: ",u.shippingAddress.apartment]}):"",Object(qe.jsxs)("li",{children:[u.shippingAddress.city,", ",u.shippingAddress.state," ",u.shippingAddress.postalCode]}),Object(qe.jsx)("li",{children:u.shippingAddress.phone})]})]}),Object(qe.jsxs)(at.a.Item,{children:[Object(qe.jsx)("h2",{children:"Payment Method"}),Object(qe.jsxs)("p",{children:[Object(qe.jsx)("strong",{children:"Method:"}),u.paymentMethod]})]}),Object(qe.jsxs)(at.a.Item,{children:[Object(qe.jsx)("h4",{className:"green",children:"Instructions"}),Object(qe.jsx)(Ge.a.Control,{type:"text",placeholder:"Any special instructions for this order?",value:d||"",onChange:function(e){return o(e.target.value)}})]}),Object(qe.jsxs)(at.a.Item,{children:[Object(qe.jsx)("h2",{children:"Order Items"}),0===u.cartItems.length?Object(qe.jsx)(Ke,{variant:"info",children:"Your cart is empty"}):Object(qe.jsx)(at.a,{variant:"flush",children:u.cartItems.map((function(e,t){return Object(qe.jsx)(at.a.Item,{children:Object(qe.jsxs)(Ye.a,{children:[Object(qe.jsx)(Ue.a,{md:2,children:Object(qe.jsx)(tt.a,{className:"thumbsize",src:e.image,alt:e.name,fluid:!0,rounded:!0})}),Object(qe.jsx)(Ue.a,{children:Object(qe.jsxs)(Ie.Link,{className:"product-links",to:"/product/".concat(e.productId),children:[Object(qe.jsx)("strong",{className:"bold",children:e.name})," ",Object(qe.jsxs)("p",{className:"light",children:["(",e.variantDescription,")"]})]})}),Object(qe.jsxs)(Ue.a,{md:4,children:[e.qty," x $",e.price," = $",(e.qty*e.price).toFixed(2)]})]})},t)}))})]})]})}),Object(qe.jsx)(Ue.a,{md:4,children:Object(qe.jsx)(Be.a,{children:Object(qe.jsxs)(at.a,{variant:"flush",children:[Object(qe.jsx)(at.a.Item,{children:Object(qe.jsx)("h2",{children:"Order Summary"})}),Object(qe.jsx)(at.a.Item,{children:Object(qe.jsxs)(Ye.a,{children:[Object(qe.jsx)(Ue.a,{children:"Items:"}),Object(qe.jsxs)(Ue.a,{children:["$",u.itemsPrice]})]})}),Object(qe.jsx)(at.a.Item,{children:Object(qe.jsxs)(Ye.a,{children:[Object(qe.jsx)(Ue.a,{children:"Shipping:"}),Object(qe.jsxs)(Ue.a,{children:["$",u.shippingPrice]})]})}),Object(qe.jsx)(at.a.Item,{children:Object(qe.jsxs)(Ye.a,{children:[Object(qe.jsx)(Ue.a,{children:"Tax:"}),Object(qe.jsxs)(Ue.a,{children:["$",u.taxPrice]})]})}),Object(qe.jsx)(at.a.Item,{children:Object(qe.jsxs)(Ye.a,{children:[Object(qe.jsx)(Ue.a,{children:"Total:"}),Object(qe.jsxs)(Ue.a,{children:["$",u.totalPrice]})]})}),Object(qe.jsx)(at.a.Item,{children:r&&Object(qe.jsx)(Ke,{variant:"danger",children:r})}),Object(qe.jsx)(at.a.Item,{children:Object(qe.jsx)(Fe.a,{type:"button",className:"btn-block",disable:0===u.cartItems.length||void 0,onClick:function(){l(function(e){return function(){var t=Object(be.a)(ue.a.mark((function t(r,a){var n,c;return ue.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,r({type:z}),t.next=4,Le.post("/api/orders/add/",e);case 4:n=t.sent,c=n.data,r({type:H,payload:c}),r({type:C,payload:c}),localStorage.removeItem("cartItems"),t.next=14;break;case 11:t.prev=11,t.t0=t.catch(0),r({type:K,payload:t.t0.response&&t.t0.response.data.detail?t.t0.response.data.detail:t.t0.message});case 14:case 15:case"end":return t.stop()}}),t,null,[[0,11]])})));return function(e,r){return t.apply(this,arguments)}}()}({orderItems:u.cartItems,shippingAddress:u.shippingAddress,paymentMethod:u.paymentMethod,instructions:d}))},children:"Place order"})})]})})})]})]})},Ot=r(97);var xt=function(){var e=Object(Ee.w)().id,t=Object(Ee.t)(),r=Object(s.b)(),n=Object(a.useState)(""),c=Object(De.a)(n,2),i=c[0],d=c[1],o=Object(a.useState)(!1),l=Object(De.a)(o,2),j=l[0],u=l[1],b=Object(s.c)((function(e){return e.orderDetails})),p=b.order,h=b.error,O=b.loading,x=Object(s.c)((function(e){return e.orderPay})),m=x.loading,f=x.success,v=x.error;return Object(a.useEffect)((function(){var a;!p||f||p._id!==Number(e)?(r({type:se}),r((a=e,function(){var e=Object(be.a)(ue.a.mark((function e(t,r){var n,c;return ue.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t({type:Z}),e.next=4,Le.get("/api/orders/".concat(a,"/"));case 4:n=e.sent,c=n.data,t({type:ee,payload:c}),e.next=13;break;case 9:e.prev=9,e.t0=e.catch(0),console.log(e.t0.response),t({type:te,payload:e.t0.response&&e.t0.response.data.detail?e.t0.response.data.detail:e.t0.message});case 13:case 14:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(t,r){return e.apply(this,arguments)}}()))):p.isPaid||(window.paypal?u(!0):function(){var e=document.createElement("script");e.type="text/javascript",e.src="https://www.paypal.com/sdk/js?client-id=".concat("AUSY56OsQfClpBl2TQ-OiRPExIdQByloJh1IGuxbUvSPwjW2Pw88MIPmHdlxbT4tIV5qDnBWsYpG2NpF"),e.async=!0,e.onload=function(){u(!0)},document.body.appendChild(e)}()),(null===h||void 0===h?void 0:h.includes("token"))&&t("/login?redirect=/order/".concat(e))}),[r,p,e,h,f,t]),O?Object(qe.jsx)(ze,{}):h?Object(qe.jsx)(Ke,{variant:"danger",children:h}):Object(qe.jsxs)("div",{children:[Object(qe.jsx)("h1",{children:"Order: "}),Object(qe.jsxs)(Ye.a,{children:[Object(qe.jsx)(Ue.a,{md:8,children:Object(qe.jsxs)(at.a,{variant:"flush",children:[Object(qe.jsxs)(at.a.Item,{children:[Object(qe.jsx)("h2",{children:"Contact info"}),Object(qe.jsxs)("span",{children:[Object(qe.jsx)("strong",{children:"Email:"}),Object(qe.jsx)("a",{children:null===p||void 0===p?void 0:p.user.email})]}),Object(qe.jsx)("br",{}),Object(qe.jsxs)("span",{children:[Object(qe.jsx)("strong",{children:"Phone"})," ",null===p||void 0===p?void 0:p.shippingAddress.phone]}),Object(qe.jsx)("br",{}),Object(qe.jsx)("br",{}),Object(qe.jsx)("p",{children:Object(qe.jsx)("strong",{children:"Shipping address for this order:"})}),Object(qe.jsxs)("ul",{className:"list",children:[Object(qe.jsx)("li",{children:null===p||void 0===p?void 0:p.shippingAddress.name}),Object(qe.jsx)("li",{children:null===p||void 0===p?void 0:p.shippingAddress.address}),(null===p||void 0===p?void 0:p.shippingAddress.apartment)?Object(qe.jsx)("li",{children:null===p||void 0===p?void 0:p.shippingAddress.apartment}):"",Object(qe.jsxs)("li",{children:[null===p||void 0===p?void 0:p.shippingAddress.city,", ",null===p||void 0===p?void 0:p.shippingAddress.state," ",null===p||void 0===p?void 0:p.shippingAddress.postalCode]})]}),(null===p||void 0===p?void 0:p.isDelivered)?Object(qe.jsxs)(Ke,{variant:"success",children:["Delivered on ",p.deliveredAt]}):p.trackingNumber?Object(qe.jsxs)(Ke,{variant:"info",children:[p.shippingService," ",p.trackingNumber]}):Object(qe.jsx)(Ke,{variant:"warning",children:"Not shipped"})]}),Object(qe.jsxs)(at.a.Item,{children:[Object(qe.jsx)("h2",{children:"Payment"}),Object(qe.jsxs)("p",{children:[Object(qe.jsx)("strong",{children:" Payment method: "}),p.paymentMethod]}),Object(qe.jsxs)("p",{children:[Object(qe.jsx)("strong",{children:" Instructions: "}),p.instructions?p.instructions:"None given"]}),p.isPaid?Object(qe.jsxs)(Ke,{variant:"success",children:["Paid on ",p.paidAt]}):Object(qe.jsxs)(Ke,{variant:"warning",children:["Not paid",p.paidAt]})]}),Object(qe.jsxs)(at.a.Item,{children:[Object(qe.jsx)("h2",{children:"Order Items"}),0===(null===p||void 0===p?void 0:p.orderItems.length)?Object(qe.jsx)(Ke,{variant:"info",children:"Order is empty"}):Object(qe.jsx)(at.a,{variant:"flush",children:null===p||void 0===p?void 0:p.orderItems.map((function(e,t){return Object(qe.jsx)(at.a.Item,{children:Object(qe.jsxs)(Ye.a,{children:[Object(qe.jsx)(Ue.a,{children:Object(qe.jsxs)(Ie.Link,{to:"/product/".concat(e.product),children:[e.name," (",e.variantDescription,")"]})}),Object(qe.jsxs)(Ue.a,{md:4,children:[e.qty," x $",e.price," = $",(e.qty*e.price).toFixed(2)]})]})},t)}))})]})]})}),Object(qe.jsx)(Ue.a,{md:4,children:Object(qe.jsx)(Be.a,{children:Object(qe.jsxs)(at.a,{variant:"flush",children:[Object(qe.jsx)(at.a.Item,{children:Object(qe.jsx)("h2",{children:"Order Summary"})}),Object(qe.jsx)(at.a.Item,{children:Object(qe.jsxs)(Ye.a,{children:[Object(qe.jsx)(Ue.a,{children:"Items:"}),Object(qe.jsxs)(Ue.a,{children:["$",p.itemsPrice]})]})}),Object(qe.jsx)(at.a.Item,{children:Object(qe.jsxs)(Ye.a,{children:[Object(qe.jsx)(Ue.a,{children:"Shipping:"}),Object(qe.jsxs)(Ue.a,{children:["$",p.shippingPrice]})]})}),Object(qe.jsx)(at.a.Item,{children:Object(qe.jsxs)(Ye.a,{children:[Object(qe.jsx)(Ue.a,{children:"Tax:"}),Object(qe.jsxs)(Ue.a,{children:["$",p.taxPrice]})]})}),Object(qe.jsx)(at.a.Item,{children:Object(qe.jsxs)(Ye.a,{children:[Object(qe.jsx)(Ue.a,{children:"Total:"}),Object(qe.jsxs)(Ue.a,{children:["$",p.totalPrice]})]})}),!p.isPaid&&Object(qe.jsxs)(at.a.Item,{children:[m&&Object(qe.jsx)(ze,{}),v&&Object(qe.jsx)(Ke,{variant:"danger",children:v}),i&&Object(qe.jsx)(Ke,{variant:"danger",children:i}),j?Object(qe.jsx)(Ot.PayPalButton,{createOrder:function(t,r){return r.order.create({purchase_units:[{amount:{currency_code:"USD",value:p.totalPrice},custom_id:e,shipping:{name:{full_name:p.shippingAddress.name},address:{address_line_1:p.shippingAddress.address,address_line_2:p.shippingAddress.apartment,admin_area_2:p.shippingAddress.city,admin_area_1:p.shippingAddress.state,postal_code:p.shippingAddress.postalCode,country_code:"US"}}}],application_context:{locale:"us-US",shipping_preference:"SET_PROVIDED_ADDRESS"}})},onSuccess:function(t){r(function(e,t){return function(){var r=Object(be.a)(ue.a.mark((function r(a,n){var c,s;return ue.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,a({type:ae}),r.next=4,Le.put("/api/orders/".concat(e,"/pay/"),t);case 4:c=r.sent,s=c.data,a({type:ne,payload:s}),r.next=12;break;case 9:r.prev=9,r.t0=r.catch(0),a({type:ce,payload:r.t0.response&&r.t0.response.data.detail?r.t0.response.data.detail:r.t0.message});case 12:case 13:case"end":return r.stop()}}),r,null,[[0,9]])})));return function(e,t){return r.apply(this,arguments)}}()}(e,t))},onError:function(e){return d(e)}}):Object(qe.jsx)(ze,{})]})]})})})]})]})};var mt=function(){return Object(qe.jsxs)("div",{children:[Object(qe.jsx)("h4",{children:'"Your number 1 source for wholesale fishing equipment and terminal tackle"'}),Object(qe.jsxs)("p",{children:[Object(qe.jsx)("strong",{children:"Located in: "}),"OFFICIAL The Ballpark of the Palm Beaches"]}),Object(qe.jsxs)("p",{children:[Object(qe.jsx)("strong",{children:"Address: "}),"5407 Haverhill Rd UNIT 339, West Palm Beach, FL 33407"]}),Object(qe.jsxs)("p",{children:[Object(qe.jsx)("strong",{children:"Hours: "}),"8:00am to 4:00pm weekdays"]}),Object(qe.jsxs)("p",{children:[Object(qe.jsx)("strong",{children:"Phone: "}),"(561) 686-7845"]})]})};var ft=function(){return Object(qe.jsxs)(Ie.HashRouter,{children:[Object(qe.jsx)(Qe,{}),Object(qe.jsx)("main",{className:"py-1 width",children:Object(qe.jsx)(Se.a,{children:Object(qe.jsxs)(Ee.f,{children:[Object(qe.jsx)(Ee.d,{path:"/",element:Object(qe.jsx)(et,{})}),Object(qe.jsx)(Ee.d,{path:"/aboutus",element:Object(qe.jsx)(mt,{})}),Object(qe.jsx)(Ee.d,{path:"/login",element:Object(qe.jsx)(dt,{})}),Object(qe.jsx)(Ee.d,{path:"/register",element:Object(qe.jsx)(ot,{})}),Object(qe.jsx)(Ee.d,{path:"/profile",element:Object(qe.jsx)(lt,{})}),Object(qe.jsx)(Ee.d,{path:"/shipping",element:Object(qe.jsx)(bt,{})}),Object(qe.jsx)(Ee.d,{path:"/payment",element:Object(qe.jsx)(pt,{})}),Object(qe.jsx)(Ee.d,{path:"/placeorder",element:Object(qe.jsx)(ht,{})}),Object(qe.jsx)(Ee.d,{path:"/order/:id",element:Object(qe.jsx)(xt,{})}),Object(qe.jsx)(Ee.d,{path:"/product/:id",element:Object(qe.jsx)(ct,{})}),Object(qe.jsx)(Ee.d,{path:"/cart/:id",element:Object(qe.jsx)(st,{})}),Object(qe.jsx)(Ee.d,{path:"/cart/",element:Object(qe.jsx)(st,{})})]})})}),Object(qe.jsx)($e,{})]})},vt=function(e){e&&e instanceof Function&&r.e(3).then(r.bind(null,156)).then((function(t){var r=t.getCLS,a=t.getFID,n=t.getFCP,c=t.getLCP,s=t.getTTFB;r(e),a(e),n(e),c(e),s(e)}))};c.a.render(Object(qe.jsx)(s.a,{store:ye,children:Object(qe.jsx)(ft,{})}),document.getElementById("root")),vt()}},[[136,1,2]]]);
//# sourceMappingURL=main.28ba6682.chunk.js.map